<form [formGroup]="form" (submit)="save()">
  <mat-card>
    <mat-card-header>
      <div mat-card-avatar>
        <mat-icon>picture_in_picture</mat-icon>
      </div>
      <mat-card-title>
        {{ (modelName() | titlecase) || "Flags Part" }}
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div>
        @if (flagEntries().length) {
        <div>
          <cadmus-ui-flag-set
            [flags]="featureFlags()"
            [checkedIds]="flags.value"
            (checkedIdsChange)="onFlagsCheckedIdsChange($event)"
          />
        </div>
        } @if (settings()) {
        <div>
          <fieldset>
            <legend>notes</legend>
            <cadmus-ui-note-set
              [(set)]="notes.value"
              (noteChange)="onNoteChange($event)"
              (setChange)="onSetChange($event)"
            />
          </fieldset>
        </div>
        }
      </div>
    </mat-card-content>
    <mat-card-actions>
      <cadmus-close-save-buttons
        [form]="form"
        [noSave]="userLevel < 2"
        (closeRequest)="close()"
      />
    </mat-card-actions>
  </mat-card>
</form>
